PART:NEEDS[SSTU]
	{
		module = Part
		name = SSTU-PC-DRC-A
		author = Shadowmage
		category = Pods
		subcategory = 0
		title = Data Return Capsule
		manufacturer = SSTU
		description = A repurposed service bay crammed with hard-drives and sample return compartments.  Includes configurable heat-shielding, parachutes, decoupler, and transponder to aid in recovery.  Intended to be jettisoned from a probe or sattelite into a capture trajectory, it should orient itself properly for re-entry from aero forces alone.  Parachutes must be deployed while still under direct or remote control (does not contain probe core functionality).
		rescaleFactor = 1
		node_stack_top = 0, 0.12, 0, 0, 1, 0, 1
		node_stack_bottom = 0, -0.15, 0, 0, -1, 0, 1
		node_attach = 0, 0, -0.3125, 0, 0, -1, 2
		attachRules = 1,1,1,1,1
		mass = 0.1
		fuelCrossFeed = True
		CrewCapacity = 0
		CoPOffset = 0.0,  0.0625, 0.0
		CoLOffset = 0.0, -0.0625, 0.0
		maxTemp = 2200
		skinMaxTemp = 2600
		crashTolerance = 12
		gTolerance = 100
		maxPressure = 20000
		breakingForce = 250
		breakingTorque = 250
		tags = DRC

		vesselType = Probe
		TechRequired = materialsScienceHuman
		cost = 1000
		entryCost = 5000
		RSSROConfig = True
		MODEL
		{
			model = Squad/Parts/Utility/ServiceBay/ServiceBay_125
			position = 0, 0, 0
			scale = 0.5, 0.5, 0.5
		}
		MODULE
		{
			name = ModuleAnimateGeneric
			animationName = doors_125
			actionGUIName = Toggle
			startEventGUIName = Open
			endEventGUIName = Close
			allowAnimationWhileShielded = False
		}
		MODULE
		{
			name = ModuleCargoBay
			DeployModuleIndex = 0
			closedPosition = 0
			lookupRadius = 0.45
		}
		MODULE
		{
			name = ModuleScienceContainer
			reviewActionName = Review Stored Data
			storeActionName = Store Experiments
			evaOnlyStorage = True
			storageRange = 1.3
			canBeTransferredToInVessel = True
			canTransferInVessel = True
			showStatus = True
		}
		MODULE
		{
			name = SSTUModularParachute
			stagingEnabled = true
			stagingToggleEnabledEditor = true
			stagingToggleEnabledFlight = true
			stagingEnableText = Enable Parachute Staging
			stagingDisableText = Disable Parachute Staging
			wobbleMultiplier = 10
			lerpDegreePerSecond = 45
			autoCutSpeed = 0.5
			drogueCapName = None
			drogueMaxTemp = 2500
			drogueMaxQ = 25000
			drogueMinAtm = 0.01
			drogueSafetyAlt = 15000
			drogueRetractedScale = 0.005, 0.005, 0.005
			drogueSemiDeployedScale = 0.2, 1, 0.2
			drogueSemiDeploySpeed = 6
			drogueSemiDeployArea = 0.4
			drogueFullDeployedScale = 0.4, 0.7, 0.4
			drogueFullDeploySpeed = 6
			drogueFullDeployArea = 1
			mainCapName = None
			mainMaxTemp = 800
			mainMaxQ = 15000
			mainMinAtm = 0.01
			mainSafetyAlt = 1200
			mainRetractedScale = 0.005, 0.005, 0.005
			mainSemiDeployedScale = 0.2, 0.7, 0.2
			mainSemiDeploySpeed = 3
			mainSemiDeployArea = 1
			mainFullDeployedScale = 1, 1, 1
			mainFullDeploySpeed = 3
			mainFullDeployArea = 44
			DROGUECHUTE
			{
				name = Generic
				localPosition = 0, 0.15, 0
				retractedUpVector = 0, 15.0, 0
				semiDeployedUpVector = 0, 15.0, 0
				fullDeployedUpVector = 0, 15.0, 0
			}
			MAINCHUTE
			{
				name = Generic
				localPosition = 0, 0.15, 0
				retractedUpVector = 0, 15.0, 0
				semiDeployedUpVector = 0, 15.0, 0
				fullDeployedUpVector = 0, 15.0, 0
			}
		}
		//Heat shield
		//%skinMaxTemp = 2600
		//%maxTemp = 1500
		emissiveConstant = 0.6 // not too absorptive for reentry
		thermalMassModifier = 1.0
		skinMassPerArea = 4
		MODULE
		{
			name = ModuleAblator
			ablativeResource = Ablator
			outputResource = CharredAblator
			outputMult = 0.75
			lossExp = -6000
			lossConst = 0.13
			pyrolysisLossFactor = 6000
			ablationTempThresh = 500
			reentryConductivity = 0.01
			charMax = 1
			charMin = 1
		}	
		@MODULE[ModuleAblator]:NEEDS[DeadlyReentry]
		{
			@name = ModuleHeatShield
			depletedMaxTemp = 1200
		}
		RESOURCE
		{
			name = Ablator
			amount = 20
			maxAmount = 40
		}
		RESOURCE
		{
			name = CharredAblator
			amount = 0
			maxAmount = 20
		}
	
		MODULE
		{
			name = ModuleDecouple
			ejectionForce = 15
			explosiveNodeID = top
			menuName = Decouple DRC Top
			stagingToggleEnabledEditor = true
			stagingToggleEnabledFlight = true
			stagingEnableText = DRC Top Staging Enabled
			stagingDisableText = DRC Top Staging Disabled
		}
		MODULE
		{
			name = ModuleDecouple
			ejectionForce = 15
			explosiveNodeID = bottom
			menuName = Decouple DRC Bottom
			stagingToggleEnabledEditor = true
			stagingToggleEnabledFlight = true
			stagingEnableText = DRC Bottom Staging Enabled
			stagingDisableText = DRC BottomStaging Disabled
		}
		MODULE
		{
			name = SSTUModelSwitch2
			containerIndex = 0
			moduleID = 0
			canAdjustScale = false
			minScale = 0.25
			maxScale = 1
			incScaleLarge = 0.25
			incScaleSmall = 0.05
			incScaleSlide = 0.005
			subtractCost = false
			subtractMass = false
			currentScale = 1
			currentModel = ModularHeatShield
			currentTexture = MHS-A
			MODEL
			{
				name = ModularHeatShield
				scale = 0.125, 0.125, 0.125
				position = 0, -0.125, 0
			}
		}
		MODULE
		{
			name = SSTUTextureSwitch
			transformName = DrogueChuteTransform
			sectionName = Drogue Chute
			TEXTURESET
			{
				name = Parachutes-A
			}
			TEXTURESET
			{
				name = Parachutes-B
			}
			TEXTURESET
			{
				name = Parachutes-C
			}
		}
		MODULE
		{
			name = SSTUTextureSwitch
			transformName = MainChuteTransform
			sectionName = Main Chute
			TEXTURESET
			{
				name = Parachutes-A
			}
			TEXTURESET
			{
				name = Parachutes-B
			}
			TEXTURESET
			{
				name = Parachutes-C
			}
		}
		MODULE
		{
			name = SSTURecolorGUI
		}
		MODULE
		{
			name = ModuleCommand
			minimumCrew = 0
			hibernationMultiplier = 0.002
			hasHibernation = False
			RESOURCE
			{
				name = ElectricCharge
				rate = 0.050
				varyTime = False
				useSI = True
				displayUnitMult = 1000
				unitName = Watts
			}
		}
		RESOURCE
		{
			name = ElectricCharge
			amount = 6000
			maxAmount = 6000
		}
		MODULE
		{
			name = ModuleDataTransmitter
			antennaType = INTERNAL
			packetInterval = 1.0
			packetSize = 2
			packetResourceCost = 12.0
			requiredResource = ElectricCharge
			antennaPower = 100000
			optimumRange = 2500
			packetFloor = .1
			packetCeiling = 5
		}
		MODULE
		{
			name = ModuleToggleCrossfeed
			crossfeedStatus = False
			toggleEditor = True
			toggleFlight = True
		}
	}
}


@PART[SSTU-PC-DRC-A]
{
		!MODULE[ModuleDataTransmitter]:NEEDS[RemoteTech]
		%MODULE[ModuleSPU]:NEEDS[RemoteTech]
		{
			%AllowSignalRelay = False
		}
		%MODULE[ModuleRTAntennaPassive]:NEEDS[RemoteTech]
		{
			%TechRequired = start
			%OmniRange = 3000000
		
			%TRANSMITTER
			{
				%PacketInterval = 1.0
				%PacketSize = 0.1
				%PacketResourceCost = 15.0
			}
		}
		%MODULE[MechJebCore]:NEEDS[MechJeb2]
		{
		%MechJebLocalSettings
		{
			%MechJebModuleCustomWindowEditor { %unlockTechs = start }
			%MechJebModuleSmartASS { %unlockTechs = start }
			%MechJebModuleManeuverPlanner { %unlockTechs = start }
			%MechJebModuleNodeEditor { %unlockTechs = start }
			%MechJebModuleTranslatron { %unlockTechs = start }
			%MechJebModuleWarpHelper { %unlockTechs = start }
			%MechJebModuleAttitudeAdjustment { %unlockTechs = start }
			%MechJebModuleThrustWindow { %unlockTechs = start }
			%MechJebModuleRCSBalancerWindow { %unlockTechs = start }
			%MechJebModuleRoverWindow { %unlockTechs = start }
			%MechJebModuleAscentGuidance { %unlockTechs = start }
			%MechJebModuleLandingGuidance { %unlockTechs = start }
			%MechJebModuleSpaceplaneGuidance { %unlockTechs = start }
			%MechJebModuleDockingGuidance { %unlockTechs = start }
			%MechJebModuleRendezvousAutopilotWindow { %unlockTechs = start }
			%MechJebModuleRendezvousGuidance { %unlockTechs = start }
		}
		}
}